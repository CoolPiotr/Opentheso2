<ui:fragment xmlns="http://www.w3.org/1999/xhtml"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:b="http://bootsfaces.net/ui"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">
    <b:modal id="idAddNT1"  class="addNT1" title="Ajouter un concept spécifique"  close-on-escape="false" backdrop="false"
             style="font-size: 12px;">

        <h:form id="addNTForm1"
                rendered="#{(currentUser.nodeUser != null) and (roleOnTheso.isManagerOnThisTheso or roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}">
            <b:row>
                <b:column span="6" style="margin-left: 5px;">
                    <b:row>
                        <b:column span="12" style=" margin-bottom: 10px; ">
                            <h:outputText value=" dqsd #{conceptBean.nodeConcept.term.lexical_value}"
                                          style="font-size: 13px; color: #f47b2a; margin-left: 10px;"/>
                        </b:column>
                        <b:column span="12">
                            <b:inputText placeholder="new concept..." value="#{newConcept.prefLabel}" required="true"
                                         onkeyup="ajax:newConcept.onKeyUp()" update="listOfConcept"/>
                        </b:column>                        
                        <b:column span="12" >
                            <b:selectOneMenu id="relationTypeNT" label="Relation" value="#{newConcept.relationType}" 
                                             style="font-size: 12px; background: white; border-color: #43B572" tooltip="La relation à définir entre les deux concepts"
                                             tooltipDelayShow="500">
                                <f:selectItems value="#{newConcept.typesRelationsNT}" var="typesNT"
                                               itemLabel="#{typesNT.description_fr} (#{typesNT.relationType})" itemValue="#{typesNT.relationType}"/>
                            </b:selectOneMenu>                                
                        </b:column>

                        <b:column span="12" >
                            <b:selectOneMenu label="Collection:" id="collectionNT" value="#{newConcept.idGroup}" 
                                             style="font-size: 12px; background: white; border-color: #43B572" tooltip="A quelle collection ajouter le concept"
                                             tooltipDelayShow="500">
                                <f:selectItem itemLabel="...." itemValue=""/>
                                <f:selectItems value="#{newConcept.nodeGroups}" var="nodeGroup"
                                               itemLabel="#{nodeGroup.lexicalValue}" itemValue="#{nodeGroup.conceptGroup.idgroup}"/>
                            </b:selectOneMenu>                                  
                        </b:column>
                        <b:column span="12" >
                            <b:inputText label="Notation:" placeholder="notation..." id="notation" value="#{newConcept.notation}"
                                         ajax="true" autocomplete="false"  style="font-size: 12px;">
                            </b:inputText>
                        </b:column>

                        <b:column span="12" >
                            <b:inputText label="Id" placeholder="identifiant facultatif..." id="privateId" value="#{newConcept.idNewConcept}"
                                         ajax="true" autocomplete="false"  style="font-size: 12px;">
                            </b:inputText>
                        </b:column>                             
                    </b:row>
                </b:column>


                <b:column span="5" style-class="message2">
                    <b:row  style="margin-top: 13px;" >
                        <b:column span="12" >
                            <h:outputText value="Liste des concepts existants déjà !!"/>
                            <p:dataList id="listOfConcept" value="#{newConcept.nodeSearchMinis}" var="list" type="ordered" 
                                        style="color: red; border: none; background: none; box-shadow: none;">
                                <h:outputText value="#{list.prefLabel}, #{list.altLabel}" style="color: red;"/>
                            </p:dataList>  
                        </b:column>
                    </b:row> 

                    <b:row>
                        <b:column span="12">
                            <b:messages autoUpdate="true"/>
                        </b:column>
                    </b:row>                        

                </b:column>
            </b:row>

            <b:row>
                <b:column span="3" offset="9" >
                    <p:commandButton id="buttonSubmit" value="Valider" update="addNTForm1"
                                     style="width:100%; " 
                                     action="#{newConcept.addNewConcept(
                                               conceptBean.nodeConcept.concept.idConcept,
                                               selectedTheso.currentLang,
                                               'D',
                                               selectedTheso.currentIdTheso,
                                               currentUser.nodeUser.idUser)}"/>
                </b:column>                    
            </b:row>              
        </h:form>
    </b:modal>    
</ui:fragment>